/* Premium car card style - clean base with card effect */
.premium-car-card {
  background: #fff;
  border-radius: 1.1rem;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  border: 1.5px solid #ececec;
  position: relative;
  margin: 0;
  display: flex;
  flex-direction: column;
  transition:
    box-shadow 0.22s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.18s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.18s;
  transform-origin: top center; /* make hover expansion originate from top */
  transform-style: preserve-3d; /* keep children in same transformed space */
  backface-visibility: hidden;
  will-change: transform, box-shadow;
}
.premium-car-card:hover {
  box-shadow: 0 18px 64px rgba(44, 62, 80, 0.24);
  border-color: #b3b3b3;
  transform: translateY(-10px) scale(1.06);
  z-index: 40; /* lift above neighbors */
}
.premium-car-card:focus-visible {
  outline: none;
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 16px 48px rgba(44,62,80,0.20);
  z-index: 40;
}
.premium-car-image {
  display: block; /* remove inline gaps */
  width: 100%;
  height: auto; /* allow aspect-ratio to control height */
  aspect-ratio: 16 / 9; /* consistent visual ratio, fills width */
  object-fit: cover; /* crop to fill */
  object-position: center top; /* anchor to top so image doesn't appear pushed down */
  background: #f5f6fa;
  border-radius: 1.1rem 1.1rem 0 0; /* keep rounded top corners */
  box-shadow: none;
  transition: transform 260ms cubic-bezier(.16,.84,.24,1), opacity 260ms ease;
}
.premium-car-card:hover .premium-car-image {
  transform: scale(1.03);
}
/* Make sure the info/content inside the card transitions smoothly with the card - no separate transform overrides */
.premium-car-info,
.premium-car-card > a,
.premium-car-card > a * {
  transition: transform 200ms cubic-bezier(.16,.84,.24,1), opacity 200ms ease;
  transform-origin: top center;
}
/* Larger aspect ratio on desktop for more visual impact */
@media (min-width: 768px) {
  .premium-car-image {
    aspect-ratio: 4 / 3;
  }
}
.premium-car-price {
  position: absolute;
  bottom: 0;
  right: 0;
  /* allow parent sections to override --accent; fallback keeps previous appearance */
  background: var(--accent, #d32f2f);
  color: #fff;
  font-weight: 700;
  font-size: 1.1rem;
  padding: 0.6rem 1.3rem 0.5rem 1.3rem;
  border-radius: 0.2rem 0 0 0;
  z-index: 2;
  letter-spacing: 0.5px;
}
/* .premium-car-badge {
  position: absolute;
  top: 0.9rem;
  left: 0.9rem;
  background: #d32f2f;
  color: #fff;
  font-size: 0.85rem;
  font-weight: 700;
  padding: 0.25rem 0.9rem;
  border-radius: 0.2rem;
  letter-spacing: 1px;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 22px;
  border: 1.5px solid #fff;
  box-shadow: 0 2px 8px rgba(44,62,80,0.10);
  overflow: hidden;
}
.premium-car-badge img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0.2rem;
  display: block;
} */
.premium-car-info {
  padding: 1.5rem 1.5rem 1.2rem 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
}
.premium-car-type {
  color: var(--accent, #d32f2f);
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 0.2rem;
}
.premium-car-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: #222;
  margin-bottom: 0.2rem;
  line-height: 1.2;
}
.premium-car-meta-row {
  display: flex;
  gap: 2.5rem;
  margin-top: 0.7rem;
}
.premium-car-meta-label {
  color: #888;
  font-size: 0.95rem;
  font-weight: 400;
}
.premium-car-meta-value {
  color: #222;
  font-size: 1.05rem;
  font-weight: 700;
}

/* Scroll-entry animation: cards slide up and in from the left with a subtle blur -> used by .card-anim */
.card-anim {
  opacity: 0;
  transform: translateY(20px) translateX(-12px) scale(0.997);
  filter: blur(6px) saturate(0.96);
  transition:
    opacity 420ms cubic-bezier(.16,.84,.24,1),
    transform 420ms cubic-bezier(.16,.84,.24,1),
    filter 360ms ease;
  will-change: transform, opacity, filter;
}

/* Ensure .card-anim rules override any base .premium-car-card transitions */
.premium-car-card.card-anim {
  /* mirror .card-anim initial state but scoped to the premium card class for higher specificity */
  opacity: 0;
  transform: translateY(20px) translateX(-12px) scale(0.997);
  filter: blur(6px) saturate(0.96);
  transition:
    opacity 420ms cubic-bezier(.16,.84,.24,1),
    transform 420ms cubic-bezier(.16,.84,.24,1),
    filter 360ms ease;
  will-change: transform, opacity, filter;
}
.premium-car-card.card-anim:global(.in-view) {
  opacity: 1;
  transform: translateY(0) translateX(0) scale(1);
  filter: none;
}
.card-anim:global(.in-view) {
  opacity: 1;
  transform: translateY(0) translateX(0) scale(1);
  filter: none;
}

/* Ensure hover still scales the entire card when it has already transitioned into view */
.premium-car-card.card-anim:global(.in-view):hover,
.premium-car-card.card-anim:global(.in-view):focus-visible,
.card-anim:global(.in-view):hover {
  transform: translateY(-10px) scale(1.06);
  box-shadow: 0 18px 64px rgba(44, 62, 80, 0.24);
  z-index: 40;
}

/* Small stagger helper using a CSS variable if provided */
.card-anim { animation: none; }
/* Apply the staggered entry delay only while the card has NOT yet entered view
   so hover/focus interactions are not blocked by the entry delay */
.card-anim[data-enter-delay]:not(:global(.in-view)) { transition-delay: var(--enter-delay, 100ms); }

@media (prefers-reduced-motion: reduce) {
  .card-anim,
  .card-anim.in-view {
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
    filter: none !important;
  }
  .premium-car-card,
  .premium-car-card:hover,
  .premium-car-card:focus-visible,
  .premium-car-image,
  .premium-car-card.card-anim,
  .card-anim {
    transition: none !important;
    transform: none !important;
    box-shadow: none !important;
  }
}

/* Mobile fix: remove thin border gap between image and card content caused by subpixel rounding
   Push the image down slightly to cover the top border and reduce top padding of the info area
   so the visual spacing remains the same. Scoped to small viewports only. */
@media (max-width: 640px) {
  .premium-car-image {
    display: block;
    margin-bottom: -1.5px; /* overlap the card border to hide the hairline */
    border-radius: 1.1rem 1.1rem 0 0; /* ensure corners stay rounded */
  }
  .premium-car-info {
    padding-top: calc(1.5rem - 1.5px); /* keep visible padding while compensating for overlap */
  }
}
